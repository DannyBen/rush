name: rush
help: Personal package manager
version: 0.3.2

environment_variables:
- name: rush_config
  help: "Location of the rush config file [default: ~/rush.ini]"

commands:
- name: add
  short: a
  help: Add a local package repository to the configuration

  args:
  - name: repo
    required: true
    help: Repository name

  - name: path
    required: true
    help: Path to the repository

  examples:
  - rush add default ~/rush-repos/default

- name: clone
  help: |-
    Clone a GitHub package repository
    This command will clone the repository and add it to the configuration

  args:
  - name: github_user
    required: true
    help: |-
      Github user. This user is expected to have a repository named 'rush-repo'.
      If you need to use a different name, use the 'user/repo' syntax.

  - name: path
    help: |-
      Local path to clone the repository to
      Default: ~/rush-repos/<github_user>/<github_repo>

  flags:
  - long: --ssh
    short: -s
    help: Clone using SSH instead of HTTPS

  - long: --name
    short: -n
    arg: name
    help: |-
      Name to use in the config file
      Default: GitHub user

  examples:
  - rush clone bobby
  - rush clone bobby/bobs-repo ./repos/bobby --ssh
  - rush clone bobby --name sample

- name: remove
  short: r
  help: Remove a package repository from the configuration

  args:
  - name: repo
    required: true
    help: Repository name

- name: config
  short: c
  help: Show the configuration file

  flags:
  - long: --edit
    short: -e
    help: Open the config file for editing

- name: get
  short: g
  help: Install a package
  default: true

  args:
  - name: package
    required: true
    help: |-
      Package name.
      This can either be the package name without the repository name (in
      this case, the default repository will be used) or in the form of
      'repo:package'.

  examples:
  - rush get ruby
  - rush get centos:ruby 

- name: info
  short: i
  help: Show information about a package

  args:
  - name: package
    required: true
    help: |-
      Package name.
      This can either be the package name without the repository name (in
      this case, the default repository will be used) or in the form of
      'repo:package'.

  examples:
  - rush info ruby
  - rush info centos:ruby

- name: list
  short: l
  help: Show packages in one or all repositories

  args:
  - name: repo_or_package
    help: |-
      Repository name or package name.
      - Leave blank to show all packages in all repositories.
      - Provide a repository name to show only packages in this repository.
      - Provide a package name (may be in the form of 'repo:package') to
        show nested packages.

  flags:
  - long: --search
    short: -s
    arg: text
    help: Show only packages that have TEXT in their name

  examples:
  - rush list
  - rush list personal:apps
  - rush list personal
  - rush list apps
  - rush list apps --search graphviz

- name: pull
  short: p
  help: Perform git pull on one or all repositories

  args:
  - name: repo
    help: Repository name

- name: push
  help: Perform git push on one or all repositories

  args:
  - name: repo
    help: Repository name

  flags:
  - long: --message
    short: -m
    arg: TEXT
    help: |-
      Commit message
      Default: automatic commit

- name: default
  help: Set a default repository

  args:
  - name: repo
    required: true
    help: Repository name
